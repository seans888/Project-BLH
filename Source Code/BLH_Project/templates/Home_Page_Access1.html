<!DOCTYPE html>

<html>
	<head>
		<title>BLH Ticketing System</title>
		<link rel="shortcut icon" href="/static/image/logo.webp">
		<link rel="stylesheet" type="text/css" href="/static/Home_Page_CSS.css">
		<!-- <meta http-equiv="refresh" content="10"> -->
	</head>

<!--------------------------------------------------------------------------------->

	<form id="myForm" action="http://localhost:5000/BLH_REQUEST_SERVICE_SYSTEM/Home" method="POST">
		<body class="form">
			<table class = "formTable">
				<td class = "tdTable0">
					<div class = "profile" align="center">
						<img src="/static/image/logo.webp" class="profileImgSet">
						<p class="categoryTitle12"  style=" background-color: #fff;">Name</p>
						<p class="categoryTitle12">{{full_name}}</p>
						<p class="categoryTitle12" style=" background-color: #fff;">Employe ID</p>
						<p class="categoryTitle12">{{user_id}}</p>
						<p class="categoryTitle12" style=" background-color: #fff;">Department</p>
						<p class="categoryTitle12">{{department}}</p>
					</div>
				</td>
				<td class = "tdTable1">
					<div class = "boardTable1" align="center">
						<div class = "trBoard12" align="center">
							<p class="categoryTitle2">BLH SERVICE REQUEST SYSTEM</p>
						</div>
						<div class = "trBoard2" align="center">
							<p class="categoryTitle">SERVICE CATEGORY</p>
						</div>
						<div class = "trBoard3" align="center">
							<table class = "categoryTable" align="center">
								<td class = "tdCategory" align="center" onclick="repairviewp()">
									<p class="categoryTitleSet">REPAIR</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_repair}}" disabled="true">
								</td>
								<td class = "tdCategory" align="center" onclick="requestviewp()">
									<p class="categoryTitleSet">REQUEST</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_request}}"  disabled="true">
								</td>
								<td class = "tdCategory" align="center" onclick="replaceviewp()">
									<p class="categoryTitleSet">REPLACE</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_replace}}" align="center"  disabled="true">
								</td>
							</table>

						</div>
						<div class = "trBoard2" align="center">
							<p class="categoryTitle">SERVICE OVERVIEW</p>
						</div>
						<div class = "trBoard5">
							<table class = "categoryTable" align="center">
								<td class = "tdCategory" align="center" onclick = "unassignviewp()">
									<p class="categoryTitleSet">UNASSIGN</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_unassign}}" disabled="true">
								</td>
								<td class = "tdCategory" align="center" onclick="pendingviewp()">
									<p class="categoryTitleSet">PENDING</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_pending}}" disabled="true">
								</td>
								<td class = "tdCategory" align="center" onclick="inprogressviewp()">
									<p class="categoryTitleSet">IN PROGRESS</p>
									<input type="input" name="" class="categoryNumberSet" value="{{count_inprogress}}" align="center" disabled="true">
								</td>
								<td class = "tdCategory" align="center" onclick="closedviewp()">
									<p class="categoryTitleSet">CLOSED</p>
								<input type="input" name="" class="categoryNumberSet" value="{{count_closed}}" align="center" disabled="true">
								</td>
							</table>
						</div>
						<div class = "trBoard123" align="center">
							<button type="button" onclick= "openTicketView()" class="categoryTitle3">VIEW ALL TICKET</button>
						</div>
					</div>
				</td>
				<td class = "tdTable3">
					<div class = "boardTable3" align="center">
						<table class = "funtionButton">
							<tr class = "tdFuntion">
								<img src="/static/image/Picture5.png" class = "ticketAdd" onclick="openTicketAdd()">
							</tr >
							<tr class = "tdFuntion">
								<img src="/static/image/Picture1.png" class = "ticketAdd" onclick="openTicketAdd2()">
							</tr>
							<tr class = "tdFuntion">
								<img src="/static/image/Picture8.png" class = "ticketAdd" onclick="openUserAdd()">
							</tr>
							<tr class = "tdFuntion">
								<img src="/static/image/Picture6.png" class = "ticketAdd" onclick="openUserEdit()">
							</tr>
							<tr class = "tdFuntion">
								<img src="/static/image/Picture7.png" class = "ticketAdd" onclick="openLogout()">
							</tr>
						</table>
					</div>
				</td>
				<div class = "boardTable2" id = "viewOpen" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">SERVICE DETAILS</p>
					</div>
					<input type="text" name="searchitem1" class = "formText" align="center" placeholder="Search">
					<button type = "button" class ="ticketSubmit" onclick="searchviewp()" style="width: 20%;">SEARCH</button>
					<div class = "trList2" id = "trList2" align="center" style="height: 62vh;">
					</div>
					<button type = "button" class ="ticketCancel" onclick="closeTicketView()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "repairview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">REPAIR DETAILS</p>
					</div>
					<div class = "trList2" id = "repairViewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="repairviewpc()" >CLOSE</button>
				</div>


				<div class = "boardTable2" id = "requestview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">REQUEST DETAILS</p>
					</div>
					<div class = "trList2" id = "requestViewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="requestviewpc()" >CLOSE</button>
				</div>


				<div class = "boardTable2" id = "replaceview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">REPLACE DETAILS</p>
					</div>
					<div class = "trList2" id = "replaceViewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="replaceviewpc()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "unassignview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">UNASSIGN DETAILS</p>
					</div>
					<div class = "trList2" id = "unassignviewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="unassignviewpc()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "pendingview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">PENDING DETAILS</p>
					</div>
					<div class = "trList2" id = "pendingviewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="pendingviewpc()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "inprogressview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">INPROGRESS DETAILS</p>
					</div>
					<div class = "trList2" id = "inprogressviewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="inprogressviewpc()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "closedview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">CLOSED DETAILS</p>
					</div>
					<div class = "trList2" id = "closedviewT" align="center">
					</div>
					<button type = "button" class ="ticketCancel" onclick="closedviewpc()" >CLOSE</button>
				</div>

				<div class = "boardTable2" id = "searchview" align="center">
					<div class = "trList1" align="center">
						<p class="ListTitle">SEARCH DETAILS</p>
					</div>
					<input type="text" name="searchitem2" class = "formText" align="center" placeholder="Search">
					<button type = "button" class ="ticketSubmit" onclick="searchviewp()" style="width: 20%;">SEARCH</button>
					<div class = "trList2" id = "searchviewT" align="center" style="height: 62vh;">
					</div>
					<button type = "button" class ="ticketCancel" onclick="closesearch()">CLOSE</button>
				</div>


				<div class ="addTicketForm" id ="addTicketForm">
					<div class = "trList1" style="background-color: yellow" align="center">
						<p class="ListTitle" style="color: black">ADD TICKET</p>
					</div>
					<input type="text" name="title1" class = "formText" style="width: 90%" align="center" placeholder="Service Title">
					<select  id="category1" name = "category1"  class="formText" style="width: 90%" >
							<option value="" disabled="" selected="">Select Category:</option>
							<option value = "Repair">Repair</option>
							<option value = "Replace">Replace</option>
					</select>
					<textarea  name="description1" class = "formText2" align="center" placeholder="Service description here..." maxlength="300" cols="50"></textarea>
					<button type = "button" class ="ticketCancel" onclick="add_request()" style="background-color: yellow">REQUEST SERVICE</button>
					<button type = "button" class ="ticketCancel" value="CANCEL" onclick="closeTicketAdd()">CANCEL</button>
				</div>
				<div class ="addTicketForm2" id ="addTicketForm2">
					<div class = "trList1" style="background-color: yellow" align="center">
						<p class="ListTitle" style="color: black">ADD REQUEST</p>
					</div>
					<input type="text" name="title2" class = "formText" style="width: 90%" align="center" placeholder="Service Title">
					<input type="text" name="category2" id = "category2" class = "formText" style="width: 90%" align="center" >
					<textarea  name="description2" class = "formText2" align="center" placeholder="Service description here..." maxlength="300" cols="50"></textarea>
					<button type = "button" class ="ticketCancel" onclick="add_request2()" style="background-color: yellow">REQUEST SERVICE</button>
					<button type = "button" class ="ticketCancel" value="CANCEL" onclick="closeTicketAdd2()">CANCEL</button>
				</div>
				<div class ="addUserForm" id ="addUserForm">
					<div class = "trList1" align="center" style="margin-bottom: 2vh;">
						<p class="ListTitle" style="color: black; background-color: yellow">ADD USER</p>
					</div>
					<input type="text" name="idnumber" class = "formText" align="center" placeholder="ID Number" required>
					<input type="text" name="fname" class = "formText" align="center" placeholder="First Name" required>
					<input type="text" name="lname" class = "formText" align="center" placeholder="Last Name" required>
					<input type="text" name="mname" class = "formText" align="center" placeholder="Middle Name" required>
					<select name="department" id="department" class="formText" required>
							<option value="" disabled="" selected="">select department:</option>
							<option value = "Admin">Admin</option>
							<option value = "Anesthesia">Anesthesia</option>
							<option value = "Cashier">Cashier</option>
							<option value = "CSR">CSR</option>
							<option value = "CT-Scan">CT-Scan</option>
							<option value = "Dental">Dental</option>
							<option value = "Dialysis">Dialysis</option>
							<option value = "Dietary">Dietary</option>
							<option value = "Disbursement">Disbursement</option>
							<option value = "Engineering">Engineering</option>
							<option value = "ENT">ENT</option>
							<option value = "ER">ER</option>
							<option value = "HMO">HMO</option>
							<option value = "ICU">ICU</option>
							<option value = "Internal Med/Family Med">Internal Med/Family Med</option>
							<option value = "IT">IT</option>
							<option value = "Laboratory">Laboratory</option>
							<option value = "Maintenance">Maintenance</option>
							<option value = "Medical Record">Medical Record</option>
							<option value = "NICU">NICU</option>
							<option value = "OB-Gyne">OB-Gyne</option>
							<option value = "OPD">OPD</option>
							<option value = "OR/DR">OR/DR</option>
							<option value = "Opthalmology">Opthalmology</option>
							<option value = "Pediatrics">Pediatrics</option>
							<option value = "Pharmacy">Pharmacy</option>
							<option value = "Purchasing">Purchasing</option>
							<option value = "Radiology">Radiology</option>
							<option value = "Rehab">Rehab</option>
							<option value = "Surgery">Surgery</option>
					</select>
					<input type="text" name="username" class = "formTextAuth" align="center" placeholder="Username">
					<input type="Password" name="password" id ="password" class = "formTextAuth" align="center" placeholder="Password" required>
					<input type="Password" name="conpassword" id ="conpassword" class = "formTextAuth" align="center" placeholder="Confirm Password" required>
					<button type = "button" class ="ticketSubmit" onclick="add_user()">ADD USER</button>
					<button type = "button" class ="ticketCancel" value="CANCEL" onclick="closeAddUser()">CANCEL</button>
				</div>
				<div class ="addUserForm2" id ="editUserForm">
					<div class = "trList1" align="center" style="margin-bottom: 2vh;">
						<p class="ListTitle" style="color: black; background-color: yellow">ADD USER</p>
					</div>
					<input type="text" name="edit_id" id="edit_id" class = "formText" align="center" placeholder="ID Number">
					<button type = "button" class ="ticketSubmit" onclick="search_user()">SEARCH USER</button>
					<input type="text" name="edit_fname" id="edit_fname"  class = "formText" align="center" placeholder="First Name">
					<input type="text" name="edit_lname" id="edit_lname"  class = "formText" align="center" placeholder="Last Name">
					<input type="text" name="edit_mname" id="edit_mname"  class = "formText" align="center" placeholder="Middle Name">
					<select name="edit_department" id="edit_department" class="formText" value = ''required>
							<option value="" disabled="" selected="">select detail_department_head_fname:</option>
							<option value = "Admin">Admin</option>
							<option value = "Anesthesia">Anesthesia</option>
							<option value = "Cashier">Cashier</option>
							<option value = "CSR">CSR</option>
							<option value = "CT-Scan">CT-Scan</option>
							<option value = "Dental">Dental</option>
							<option value = "Dialysis">Dialysis</option>
							<option value = "Dietary">Dietary</option>
							<option value = "Disbursement">Disbursement</option>
							<option value = "Engineering">Engineering</option>
							<option value = "ENT">ENT</option>
							<option value = "ER">ER</option>
							<option value = "HMO">HMO</option>
							<option value = "ICU">ICU</option>
							<option value = "Internal Med/Family Med">Internal Med/Family Med</option>
							<option value = "IT">IT</option>
							<option value = "Laboratory">Laboratory</option>
							<option value = "Maintenance">Maintenance</option>
							<option value = "Medical Record">Medical Record</option>
							<option value = "NICU">NICU</option>
							<option value = "OB-Gyne">OB-Gyne</option>
							<option value = "OPD">OPD</option>
							<option value = "OR/DR">OR/DR</option>
							<option value = "Opthalmology">Opthalmology</option>
							<option value = "Pediatrics">Pediatrics</option>
							<option value = "Pharmacy">Pharmacy</option>
							<option value = "Purchasing">Purchasing</option>
							<option value = "Radiology">Radiology</option>
							<option value = "Rehab">Rehab</option>
							<option value = "Surgery">Surgery</option>
					</select>
					<input type="text" name="edit_username" class = "formText" align="center" placeholder="Username">
					<input type="Password" name="edit_password" class = "formText" align="center" placeholder="Password">
					<input type="Password" name="edit_conpassword" class = "formText" align="center" placeholder="Confirm Password">
					<button type = "button" class ="ticketSubmit" onclick="edit_user()">EDIT</button>
					<button type = "button" class ="ticketCancel" id = "edit" value="2" onclick="closeEditUser()">CANCEL</button>
				</div>
				<div class ="logOutForm" id ="logOutForm">
					<div class = "trList1" style="background-color: yellow" align="center">
						<p class="ListTitle" style="color: black">LOG OUT</p>
					</div>
					<button type = "button" name="" class ="ticketSubmit" onclick="logout()">LOGOUT</button>
					<button type = "button" name="" class ="ticketCancel" value="CANCEL" onclick="closeLogout()">CANCEL</button>
				</div>
				<div class ="ticketDetail" id ="ticketDetail" align="center">
					<p class="requestDetailF">SERVICE FULL DETAILS</p>
					<div class ="ticketDetail2" id ="ticketDetail2" align="center">
						<input type="text" id = "detail_requester" name="detail_requester" class = "formText52" align="center" placeholder="Request Person" disabled="true">
						<input type="text" id = "detail_department" name="detail_department" class = "formText53" align="center" placeholder="Internal Med/Family Med" disabled="true">
						<input type="text" id = "detail_id"  name="detail_id" class = "formText3" align="center" placeholder="Service Number" >
						<input type="text" id = "detail_level"  name="detail_level" class = "formText3" align="center" placeholder="Service Level" disabled="true">
						<input type="text" id = "detail_category"  name="detail_category" class = "formText4" align="center" placeholder="Service Category" disabled="true" value="Request">
						<input type="text" id = "detail_title"  name="detail_title" class = "formText5" align="center" placeholder="Service Title" disabled="true">
						<textarea  id = "detail_description"  name="detail_description" class = "formText6" align="center" placeholder="Service description here..." maxlength="300" cols="50" disabled="true" ></textarea>
						<input type="text" id = "detail_time"  name="detail_time" class = "formTexts7" align="center" placeholder="Service Time" disabled="true">
						<input type="text" id = "detail_date" name="detail_date" class = "formTexts7" align="center" placeholder="Service Date" disabled="true">
						<select name="assign_personel" id="assign_personel" class="formText">
							<option value="" disabled="" selected="">select maintenance personnel:</option>
						</select>
						<button  type="button" name="" class ="ticketSubmit"  style="background: #add8e6;" onclick="align_personel()">ASSIGN PERSONEL</button>
						<input type="text" id = "detail_assign" name="detail_assign" class = "formText5" align="center" placeholder="Assigned Person" disabled="true">
						<input type="text" id = ""  name="" class = "formText5" style="background-color: yellow" align="center" value="Service Process Conversation" disabled="true">
						<div class = "ticketConversation" align="center" id="ticketConversation">
						</div>
						<input type="text" name="replytext" class = "formText" align="center" maxlength="89" placeholder="Reply Here...">
						<button  type="button" name="" class ="ticketSubmit"  style="background: #add8e6;" onclick="convo_add()">REPLAY</button>
						<button type="button" name="" class ="ticketSubmit" onclick="OpenPendTicket()" style="background: #add8e9;">SERVICE PEND</button>
						<button type="button" name="" class ="ticketSubmit" onclick="OpenCloseTicket()" style="background: #add8e6;">SERVICE DONE</button>
						<button type="button" class ="ticketCancel" value="CANCEL" onclick="closeTicketDetail()">CLOSE</button>
					</div>
				</div>
				<div class ="ticketClose" id ="ticketClose" align="center">
					<button type="button name="" class ="ticketSubmit" onclick="close_ticket()">CLOSE SERVICE</button>
					<button  type="button name="" class ="ticketSubmit" onclick="CloseOpenTicket()" style="background: #add8e6;">CANCEL</button>
				</div>

				<div class ="ticketClose" id ="ticketClose2" align="center">
					<button type="button name="" class ="ticketSubmit" onclick="pend_ticket()">PEND SERVICE</button>
					<button  type="button name="" class ="ticketSubmit" onclick="ClosePendTicket()" style="background: #add8e6;">CANCEL</button>
				</div>


				<!-- <div class ="ticketDetail4" id ="ticketDetail" align="center" style="display: block;">
					<p class="requestDetailF">SERVICE FULL DETAILS</p>

					<div class ="ticketDetail22" id ="ticketDetail2" align="center" >
					<div class = "trList1" style="background-color: yellow; width:90%; margin-left: 5%;margin-top: 1vh" align="center">
						<p class="ListTitle" style="color: black">CURRENT TICKET STATUS</p>
					</div>
					<div style="display: inline-block; width: 45%; height: 50vh; margin-left: 2.5%;">
						<div id="piechart1" class="piechart1"></div>
					</div>
					<div class = "trList1" style="background-color: yellow; width:90%; margin-left: 5%;margin-top: 1vh" align="center">
						<p class="ListTitle" style="color: black">NUMBER OF TICKET</p>
					</div>
					<div style="display: inline-block; width: 45%; height: 50vh; margin-left: 2.5%;">
						<div id="piechart2" class="piechart1"></div>
					</div>
					<div class = "trList1" style="background-color: yellow; width:90%; margin-left: 5%;margin-top: 1vh" align="center">
						<p class="ListTitle" style="color: black">CLOSE TICKET</p>
					</div>
					<div style="display: inline-block; width: 45%; height: 50vh; margin-left: 2.5%;">
						<div id="piechart3" class="piechart1"></div>
					</div>
					<div style="display: inline-block;width: 45%; height: 50vh">
						<div id="piechart4" class="piechart2"></div>
					</div>
					<div class = "trList1" style="background-color: yellow; width:90%; margin-left: 5%" align="center">
						<p class="ListTitle" style="color: black">NUMBER OF FACILITY TICKET</p>
					</div>
					<div style="display: inline-block; width: 45%; height: 50vh; margin-left: 2.5%;">
						<div id="piechart5" class="piechart1"></div>
					</div>
					<div style="display: inline-block;width: 45%; height: 50vh">
						<div id="piechart6" class="piechart2"></div>
					</div>

					<button type="button" class ="ticketCancel" value="CANCEL" onclick="closeTicketDetail()">CLOSE</button>
					</div>
				</div> -->


				<input type="text" name="process" value = 'login' id = "process" style="display: none;">
				<input type="text" name="selected" value = 'selected' id = "selected" style="display: none;">
				<input type="text" name="selected_open" id = "selected_open" style="display: none;">
				<input type="text" name="selected_td" id = "selected_td" style="display: none;">
				<input type="text" name="selected_tdid" id = "selected_tdid" style="display: none;">

			</table>
		</body>
	</form>
</html>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
	// google.charts.load('current', {'packages':['corechart']});
	//google.charts.setOnLoadCallback(drawChart);
	var c = 2;
	Frequest_id = []
	Frequest_title= []
	Frequest_category= []
	Frequest_description= []
	Frequest_time= []
	Frequest_date= []
	Frequest_level= []
	SFrequest_id = []
	SFrequest_title= []
	SFrequest_category= []
	SFrequest_description= []
	SFrequest_time= []
	SFrequest_date= []
	SFrequest_level= []
	commentinfo = []
	commentreply = []
	commentdisplay = []


	// function drawChart() {
	//   var data = google.visualization.arrayToDataTable([
	//   ['Task', 'Hours per Day'],
	//   ['Request', 8],
	//   ['Replace', 2],
	//   ['Repair', 4],
	// ]);
	//     var data2 = google.visualization.arrayToDataTable([
	//   ['Task', 'Hours per Day'],
	//   ['Request', 8],
	//   ['Replace', 2],
	//   ['Repair', 4],
	// ]);
	// 	var chart = new google.visualization.PieChart(document.getElementById('piechart1'));
	//   chart.draw(data, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Current Ticket Status',
	// 	  colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});

	//   var chart = new google.visualization.BarChart(document.getElementById('piechart2'));
	//   chart.draw(data2, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Number of Ticket',
	// 	   colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});



	//  var chart = new google.visualization.PieChart(document.getElementById('piechart3'));
	//   chart.draw(data, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Closed Ticket',
	// 	   colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});

	//  var chart = new google.visualization.PieChart(document.getElementById('piechart4'));
	//   chart.draw(data, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Closed Ticket',
	// 	  colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});

	//   var chart = new google.visualization.PieChart(document.getElementById('piechart5'));
	//   chart.draw(data, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Facility Ticket',
	// 	   colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});

	//  var chart = new google.visualization.PieChart(document.getElementById('piechart6'));
	//   chart.draw(data, {
	// 	  width: 500,
	// 	  height: 300,
	// 	  title: 'Facility Ticket',
	// 	   colors: ['blue', 'yellow', 'green'],
	// 	  is3D: true
	// 	});

	// }



	function onload_add_feed()
	{
		for (i = 0; counter > i; i++)
		{
		var a = document.createElement("INPUT");
		var b = document.createElement("INPUT");
		var d = document.createElement("INPUT");
		var c = document.createElement("INPUT");
		var e = document.createElement("TEXTAREA");
		var f = document.createElement("BUTTON");

		a.setAttribute("type", "text");
		b.setAttribute("type", "text");
		c.setAttribute("type", "text");
		d.setAttribute("type", "text");
		f.setAttribute("type", "button");

		a.setAttribute("name", "service_id" + (i+1));
		b.setAttribute("name", "service_title" + (i+1));
		c.setAttribute("name", "service_status_DT" + (i+1));
		e.setAttribute("name", "service_description" + (i+1));
		d.setAttribute("name", "service_category" + (i+1));
		f.setAttribute("name", "service" + (i+1));

		a.setAttribute("id", "service_id" + (i+1));
		b.setAttribute("id", "service_title" + (i+1));
		c.setAttribute("id", "service_status_DT" + (i+1));
		e.setAttribute("id", "service_description" + (i+1));
		d.setAttribute("id", "service_category" + (i+1));
		f.setAttribute("id", i+1);

		a.setAttribute("value", Frequest_id[i]);
		b.setAttribute("value", Frequest_title[i]);
		c.setAttribute("value", Frequest_level[i] + " (" + Frequest_time [i] + " - " + Frequest_date[i] +")" );
		d.setAttribute("value", Frequest_category [i]);
		f.setAttribute("value", i+1);


		a.setAttribute("class", "ticketID2");
		b.setAttribute("class", "ticketTitleAdd");
		c.setAttribute("class", "ticketItem");
		e.setAttribute("class", "ticketDescAdd");
		d.setAttribute("class", "ticketLevelAdd");
		f.setAttribute("class", "ticketOpen");

		a.setAttribute("disabled", "true");
		b.setAttribute("disabled", "true");
		c.setAttribute("disabled", "true");
		e.setAttribute("disabled", "true");
		d.setAttribute("disabled", "true");

		f.setAttribute("onclick", "open_detail(this.id)")
		e.appendChild(document.createTextNode(Frequest_description[i]));
		f.appendChild(document.createTextNode("OPEN"));
		document.getElementById("trList2").appendChild(a);
		document.getElementById("trList2").appendChild(b);
		document.getElementById("trList2").appendChild(d);
		document.getElementById("trList2").appendChild(c);
		document.getElementById("trList2").appendChild(e);
		document.getElementById("trList2").appendChild(f);
		}
	}

	function onload_add_feedS()
	{
		for (i = 0; counterS > i; i++)
		{
		var a = document.createElement("INPUT");
		var b = document.createElement("INPUT");
		var d = document.createElement("INPUT");
		var c = document.createElement("INPUT");
		var e = document.createElement("TEXTAREA");
		var f = document.createElement("BUTTON");

		a.setAttribute("type", "text");
		b.setAttribute("type", "text");
		c.setAttribute("type", "text");
		d.setAttribute("type", "text");
		f.setAttribute("type", "button");

		a.setAttribute("name", "service_id" + (i+1));
		b.setAttribute("name", "service_title" + (i+1));
		c.setAttribute("name", "service_status_DT" + (i+1));
		e.setAttribute("name", "service_description" + (i+1));
		d.setAttribute("name", "service_category" + (i+1));
		f.setAttribute("name", "service" + (i+1));

		a.setAttribute("id", "service_id" + (i+1));
		b.setAttribute("id", "service_title" + (i+1));
		c.setAttribute("id", "service_status_DT" + (i+1));
		e.setAttribute("id", "service_description" + (i+1));
		d.setAttribute("id", "service_category" + (i+1));
		f.setAttribute("id", i+1);

		a.setAttribute("value", Frequest_id[i]);
		b.setAttribute("value", Frequest_title[i]);
		c.setAttribute("value", Frequest_level[i] + " (" + Frequest_time [i] + " - " + Frequest_date[i] +")" );
		d.setAttribute("value", Frequest_category [i]);
		f.setAttribute("value", i+1);


		a.setAttribute("class", "ticketID2");
		b.setAttribute("class", "ticketTitleAdd");
		c.setAttribute("class", "ticketItem");
		e.setAttribute("class", "ticketDescAdd");
		d.setAttribute("class", "ticketLevelAdd");
		f.setAttribute("class", "ticketOpen");

		a.setAttribute("disabled", "true");
		b.setAttribute("disabled", "true");
		c.setAttribute("disabled", "true");
		e.setAttribute("disabled", "true");
		d.setAttribute("disabled", "true");

		f.setAttribute("onclick", "open_detail(this.id)")
		e.appendChild(document.createTextNode(Frequest_description[i]));
		f.appendChild(document.createTextNode("OPEN"));
		document.getElementById("{{selectedview}}").appendChild(a);
		document.getElementById("{{selectedview}}").appendChild(b);
		document.getElementById("{{selectedview}}").appendChild(d);
		document.getElementById("{{selectedview}}").appendChild(c);
		document.getElementById("{{selectedview}}").appendChild(e);
		document.getElementById("{{selectedview}}").appendChild(f);
		}
	}

	function onload_add_feedSearch()
	{
		for (i = 0; counterS > i; i++)
		{
		var a = document.createElement("INPUT");
		var b = document.createElement("INPUT");
		var d = document.createElement("INPUT");
		var c = document.createElement("INPUT");
		var e = document.createElement("TEXTAREA");
		var f = document.createElement("BUTTON");

		a.setAttribute("type", "text");
		b.setAttribute("type", "text");
		c.setAttribute("type", "text");
		d.setAttribute("type", "text");
		f.setAttribute("type", "button");

		a.setAttribute("name", "service_id" + (i+1));
		b.setAttribute("name", "service_title" + (i+1));
		c.setAttribute("name", "service_status_DT" + (i+1));
		e.setAttribute("name", "service_description" + (i+1));
		d.setAttribute("name", "service_category" + (i+1));
		f.setAttribute("name", "service" + (i+1));

		a.setAttribute("id", "service_id" + (i+1));
		b.setAttribute("id", "service_title" + (i+1));
		c.setAttribute("id", "service_status_DT" + (i+1));
		e.setAttribute("id", "service_description" + (i+1));
		d.setAttribute("id", "service_category" + (i+1));
		f.setAttribute("id", i+1);

		a.setAttribute("value", Frequest_id[i]);
		b.setAttribute("value", Frequest_title[i]);
		c.setAttribute("value", Frequest_level[i] + " (" + Frequest_time [i] + " - " + Frequest_date[i] +")" );
		d.setAttribute("value", Frequest_category [i]);
		f.setAttribute("value", i+1);


		a.setAttribute("class", "ticketID2");
		b.setAttribute("class", "ticketTitleAdd");
		c.setAttribute("class", "ticketItem");
		e.setAttribute("class", "ticketDescAdd");
		d.setAttribute("class", "ticketLevelAdd");
		f.setAttribute("class", "ticketOpen");

		a.setAttribute("disabled", "true");
		b.setAttribute("disabled", "true");
		c.setAttribute("disabled", "true");
		e.setAttribute("disabled", "true");
		d.setAttribute("disabled", "true");

		f.setAttribute("onclick", "open_detail(this.id)")
		e.appendChild(document.createTextNode(Frequest_description[i]));
		f.appendChild(document.createTextNode("OPEN"));
		document.getElementById("searchviewT").appendChild(a);
		document.getElementById("searchviewT").appendChild(b);
		document.getElementById("searchviewT").appendChild(d);
		document.getElementById("searchviewT").appendChild(c);
		document.getElementById("searchviewT").appendChild(e);
		document.getElementById("searchviewT").appendChild(f);
		}
	}


	function convo_add_form()
	{

		count = '{{commentcount}}'

		for (c = 0; count > c; c++)
		{
			var para = document.createElement("P");
			var a = document.createElement("INPUT");

			a.setAttribute("type", "text");
			a.setAttribute("value", commentreply[c]);
			a.setAttribute("disabled", "true");
			a.setAttribute("class","comments" + commentdisplay[c]);

			para.setAttribute("class", "comment"+ commentdisplay[c]);
			para.innerHTML = commentinfo[c];

			document.getElementById("ticketConversation").appendChild(a);
			document.getElementById("ticketConversation").appendChild(para);

		}
	}

	function openTicketAdd() {
	  document.getElementById("addTicketForm").style.display = "block";
	  document.getElementById("addUserForm").style.display = "none";
	  document.getElementById("editUserForm").style.display = "none";
	  document.getElementById("logOutForm").style.display = "none";
	   document.getElementById("ticketDetail").style.display = "none";
	   document.getElementById("addTicketForm2").style.display = "none";
	    event.preventDefault();
	}

	function closeTicketAdd() {
	  document.getElementById("addTicketForm").style.display = "none";
	   event.preventDefault();
	}

	function openTicketAdd2() {
		document.getElementById("addTicketForm2").style.display = "block";
	  document.getElementById("addTicketForm").style.display = "none";
	  document.getElementById("addUserForm").style.display = "none";
	  document.getElementById("editUserForm").style.display = "none";
	  document.getElementById("logOutForm").style.display = "none";
	   document.getElementById("ticketDetail").style.display = "none";
	  document.getElementById("category2").value = "Request";
	    event.preventDefault();
	}

	function closeTicketAdd2() {
	  document.getElementById("addTicketForm2").style.display = "none";
	   event.preventDefault();
	}
	function openUserAdd() {
	  document.getElementById("addUserForm").style.display = "block";
	  document.getElementById("addTicketForm").style.display = "none";
	  document.getElementById("editUserForm").style.display = "none";
	  document.getElementById("logOutForm").style.display = "none";
	   document.getElementById("ticketDetail").style.display = "none";
	   document.getElementById("addTicketForm2").style.display = "none";
	    event.preventDefault();
	}

	function closeAddUser() {
	  document.getElementById("addUserForm").style.display = "none";
	}
	function openUserEdit() {
	  document.getElementById("editUserForm").style.display = "block";
	  document.getElementById("addTicketForm").style.display = "none";
	  document.getElementById("addUserForm").style.display = "none";
	  document.getElementById("logOutForm").style.display = "none";
	   document.getElementById("ticketDetail").style.display = "none";
	     document.getElementById("addTicketForm2").style.display = "none";
	    event.preventDefault();
	}

	function closeEditUser()
	{
	  document.getElementById("editUserForm").style.display = "none";
	}
	function openLogout() {
	  document.getElementById("logOutForm").style.display = "block";
	  document.getElementById("addTicketForm").style.display = "none";
	  document.getElementById("addUserForm").style.display = "none";
	  document.getElementById("editUserForm").style.display = "none";
	   document.getElementById("ticketDetail").style.display = "none";
	    document.getElementById("addTicketForm2").style.display = "none";
	    event.preventDefault();
	}

	function closeLogout() {
	  document.getElementById("logOutForm").style.display = "none";
	   event.preventDefault();
	}

	function openDetailTicket() {
	  document.getElementById("ticketDetail").style.display = "block";
	 document.getElementById("logOutForm").style.display = "none";
	   document.getElementById("addTicketForm").style.display = "none";
	  document.getElementById("addUserForm").style.display = "none";
	  document.getElementById("editUserForm").style.display = "none";
	    document.getElementById("addTicketForm2").style.display = "none";
	   event.preventDefault();
	}

	function closeTicketDetail() {
	  document.getElementById("ticketDetail").style.display = "none";
	   event.preventDefault();
	}

	function OpenCloseTicket() {
	  document.getElementById("ticketClose").style.display = "block";
	  document.getElementById("ticketClose2").style.display = "none";
	   event.preventDefault();
	}

	function CloseOpenTicket() {
	  document.getElementById("ticketClose").style.display = "none";
	   event.preventDefault();
	}


	function closesearch() {
	document.getElementById("searchview").style.display = "none";
	event.preventDefault();
	}

	function OpenPendTicket() {
	  document.getElementById("ticketClose2").style.display = "block";
	   document.getElementById("ticketClose").style.display = "none";
	   event.preventDefault();
	}

	function ClosePendTicket() {
	  document.getElementById("ticketClose2").style.display = "none";
	   event.preventDefault();
	}


	function openTicketView() {
		document.getElementById("process").value='Allview'
		document.getElementById("myForm").submit();
	}

	function closeTicketView() {
	  document.getElementById("viewOpen").style.display = "none";
	   event.preventDefault();
	}

	function repairviewp() {
	  document.getElementById("process").value='selectedtype'
	    document.getElementById("selected").value='Repair'
	    document.getElementById("selected_td").value='repairViewT'
	    document.getElementById("selected_tdid").value='repairview'
			document.getElementById("myForm").submit();

	}

	function repairviewpc() {
	  document.getElementById("repairview").style.display = "none";
	   event.preventDefault();
	}


	function requestviewp() {
	  document.getElementById("process").value='selectedtype'
	    document.getElementById("selected").value='Request'
	    document.getElementById("selected_td").value='requestViewT'
	    document.getElementById("selected_tdid").value='requestview'
		document.getElementById("myForm").submit();
	}

	function requestviewpc() {
	  document.getElementById("requestview").style.display = "none";
	   event.preventDefault();
	}


	function replaceviewp() {
	   document.getElementById("process").value='selectedtype'
	    document.getElementById("selected").value='Replace'
	    document.getElementById("selected_td").value='replaceViewT'
	    document.getElementById("selected_tdid").value='replaceview'
		document.getElementById("myForm").submit();
	}

	function replaceviewpc() {
	  document.getElementById("replaceview").style.display = "none";
	   event.preventDefault();
	}

	function unassignviewp() {
	  document.getElementById("process").value='selectedtypeS'
	    document.getElementById("selected").value='Unassign'
	    document.getElementById("selected_td").value='unassignviewT'
	    document.getElementById("selected_tdid").value='unassignview'
		document.getElementById("myForm").submit();
	}

	function unassignviewpc() {
	  document.getElementById("unassignview").style.display = "none";
	   event.preventDefault();
	}

	function pendingviewp() {
	  document.getElementById("process").value='selectedtypeS'
	    document.getElementById("selected").value='Pending'
	    document.getElementById("selected_td").value='pendingviewT'
	    document.getElementById("selected_tdid").value='pendingview'
		document.getElementById("myForm").submit();
	}

	function pendingviewpc() {
	  document.getElementById("pendingview").style.display = "none";
	   event.preventDefault();
	}

	function inprogressviewp() {
	  document.getElementById("process").value='selectedtypeS'
	    document.getElementById("selected").value='Inprogress'
	    document.getElementById("selected_td").value='inprogressviewT'
	    document.getElementById("selected_tdid").value='inprogressview'
		document.getElementById("myForm").submit();
	}

	function inprogressviewpc() {
	  document.getElementById("inprogressview").style.display = "none";
	   event.preventDefault();
	}

	function closedviewp() {
	  document.getElementById("process").value='selectedtypeS'
	    document.getElementById("selected").value='Closed'
	    document.getElementById("selected_td").value='closedviewT'
	    document.getElementById("selected_tdid").value='closedview'
		document.getElementById("myForm").submit();
	}

	function closedviewpc() {
	  document.getElementById("closedview").style.display = "none";
	   event.preventDefault();
	}



	function add_request(){
		document.getElementById("process").value='add_ticket'
		document.getElementById("myForm").submit();
	}
	function add_request2(){
		document.getElementById("process").value='add_ticket'
		document.getElementById("myForm").submit();
	}

	function convo_add(){
		document.getElementById("process").value='comment'
		document.getElementById("myForm").submit();
	}


	function add_user(){
		if (document.getElementById("password").value != document.getElementById("conpassword").value) {
			alert("Password and Confirm Password do not match");
		}
		else {
		document.getElementById("process").value='add_user';
		document.getElementById("myForm").submit();
		}

	}

	function search_user(){
		document.getElementById("process").value='search_user'
		document.getElementById("myForm").submit();
	}

	function edit_user(){
		document.getElementById("process").value='edit_user'
		document.getElementById("myForm").submit();
	}

	function open_detail(clicked_id){
		document.getElementById("selected_open").value = document.getElementById('service_id'+clicked_id).value
		document.getElementById("process").value='detail_open'
		document.getElementById("myForm").submit();
	}

	function align_personel(){
		document.getElementById("process").value='assign_personel'
		document.getElementById("myForm").submit();
	}
	function close_ticket(){
		document.getElementById("process").value='close_ticket'
		document.getElementById("myForm").submit();
	}

	function close_ticket(){
		document.getElementById("process").value='close_ticket'
		document.getElementById("myForm").submit();
	}

	function pend_ticket(){
		document.getElementById("process").value='pend_ticket'
		document.getElementById("myForm").submit();
	}
	function searchviewp(){
		  document.getElementById("process").value='search'
		document.getElementById("myForm").submit();
	}



	function logout(){
		document.getElementById("process").value='logout'
		document.getElementById("myForm").submit();
	}


	window.onload = onloadfunc();
		function onloadfunc()
		{
		pyProcess = "{{pyProcess}}"

		if (pyProcess == 'login'){


		}else if (pyProcess == 'AllviewDone'){
			counter = '{{column_count}}'
		    {% for col in Frequest_id %}
		          Frequest_id.push('{{col}}')
		    {% endfor %}
			{% for col in Frequest_title %}
		          Frequest_title.push('{{col}}')
		    {% endfor %}
		    {% for col in Frequest_category %}
		          Frequest_category.push('{{col}}')
		    {% endfor %}
		    {% for col in Frequest_description %}
		         Frequest_description.push('{{col}}')
		    {% endfor %}
		    {% for col in Frequest_time %}
		          Frequest_time.push('{{col}}')
		    {% endfor %}
		    {% for col in Frequest_date %}
		          Frequest_date.push('{{col}}')
		    {% endfor %}
		    {% for col in Frequest_level %}
		          Frequest_level.push('{{col}}')
		    {% endfor %}
		    onload_add_feed()
		    document.getElementById("viewOpen").style.display = "block";
		}

		else if (pyProcess == 'addTicket')
		{
			alert('Service was successfully added to request list please wait for assign personel')

		}
		else if (pyProcess == 'addUser'){
			alert('Account was successfully created')
			document.getElementById("process").value='login'
		}
		else if (pyProcess == 'search_fail'){
			alert('No Account Found')
			document.getElementById("process").value='login'
		}
		else if (pyProcess == 'search_success')
		{	document.getElementById("editUserForm").style.display = "block";
			document.getElementById("edit_id").value='{{edit_id}}';
			document.getElementById("edit_fname").value='{{fname}}';
			document.getElementById("edit_lname").value='{{mname}}';
			document.getElementById("edit_mname").value='{{lname}}';
			document.getElementById("edit_department").value='{{edit_department}}';
			document.getElementById("process").value='login'
		}
		else if (pyProcess == 'edit_success'){
			alert('Account was successfully updated')
		}
		else if (pyProcess == 'selected_open')
		{	document.getElementById("ticketDetail").style.display = "block";
			document.getElementById("detail_requester").value='Requested By:' + '{{detail_department_head_fname}}' + ' (' + '{{detail_department_head_id}}' +')';
			document.getElementById("detail_department").value='{{detail_department}}';
			document.getElementById("detail_id").value ='{{detail_request_id}}';
			document.getElementById("detail_level").value='{{detail_request_level}}';
			document.getElementById("detail_category").value='{{detail_request_category}}';
			document.getElementById("detail_title").value='{{detail_request_title}}';
			document.getElementById("detail_time").value='{{detail_start_time}}';
			document.getElementById("detail_date").value='{{detail_start_date}}';
			document.getElementById("detail_description").appendChild(document.createTextNode('{{detail_request_description}}'));
			if ('{{detail_maintenance_fname}}' == 'None'){
				document.getElementById("detail_assign").value='Pending to assign';
				}
			else{
				document.getElementById("detail_assign").value='{{detail_maintenance_fname}}' + ' (' + '{{detail_maintenance_id}}' +')';
			}

			AID = []
			Afullname = []
			{% for col in AID %}
		    	AID.push('{{col}}')
		    {% endfor %}
		    {% for col in Afullname %}
		    	Afullname.push('{{col}}')
		    {% endfor %}

		    count = '{{count}}'
		    for (x=0; x < count; x++)
		    {	var daySelect = document.getElementById("assign_personel");
				var myOption = document.createElement("option");
		    	myOption.text = Afullname[x] + " (" + AID[x] + ")";
				myOption.value = AID[x];
				daySelect.add(myOption);
		    }
		    {% for col in commentinfo %}
		     commentinfo.push('{{col}}')
		{% endfor %}
		{% for col in commentreply %}
	      commentreply.push('{{col}}')
		{% endfor %}
		{% for col in commentdesign %}
	     commentdisplay.push('{{col}}')
		{% endfor %}
		    convo_add_form()

		}
		else if (pyProcess == 'assign_complete'){
			alert('Assigning personel success')
			document.getElementById("process").value='login'
		}
		else if (pyProcess == 'close_ticket')
		{
			alert('Ticket was closed successfully ')
			document.getElementById("ticketDetail").style.display = "none";
			document.getElementById("process").value='login'

		}
		else if (pyProcess == 'pend_ticket')
		{
			alert('Ticket was pend successfully ')
			document.getElementById("ticketDetail").style.display = "none";
			document.getElementById("process").value='login'

		}
		else if(pyProcess == 'selectedDone'){
			counterS = '{{column_countS}}'
			{% for col in SFrequest_id %}
		          Frequest_id.push('{{col}}')
		    {% endfor %}
			{% for col in SFrequest_title %}
		          Frequest_title.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_category %}
		          Frequest_category.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_description %}
		         Frequest_description.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_time %}
		          Frequest_time.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_date %}
		          Frequest_date.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_level %}
		          Frequest_level.push('{{col}}')
		    {% endfor %}
			onload_add_feedS()
			document.getElementById('{{selectedviewid}}').style.display = "block";
		}
		else if (pyProcess == 'searchDone'){
			counterS = '{{column_countS}}'
			{% for col in SFrequest_id %}
		          Frequest_id.push('{{col}}')
		    {% endfor %}
			{% for col in SFrequest_title %}
		          Frequest_title.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_category %}
		          Frequest_category.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_description %}
		         Frequest_description.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_time %}
		          Frequest_time.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_date %}
		          Frequest_date.push('{{col}}')
		    {% endfor %}
		    {% for col in SFrequest_level %}
		          Frequest_level.push('{{col}}')
		    {% endfor %}

		    onload_add_feedSearch()
		    document.getElementById('searchview').style.display = "block";
		}
		else if ( pyProcess == 'commentDone'){
			alert('Messege has been send!')
		}


	}


</script>
